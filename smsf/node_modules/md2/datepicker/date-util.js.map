{"version":3,"file":"date-util.js","sourceRoot":"","sources":["../../../src/lib/datepicker/date-util.ts"],"names":[],"mappings":"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","sourcesContent":["import { DateLocale } from './date-locale';\n\nexport class DateUtil {\n\n  _locale: DateLocale = new DateLocale();\n\n  parseDateMap: any = {\n    'y': 0,      // placeholder -> ctorIndex\n    'Y': [0, -2000],\n    'M': [1, 1], // placeholder -> [ctorIndex, offset|value array]\n    'n': [1, this._locale.getMonthNames('short')],\n    'N': [1, this._locale.getMonthNames('long')],\n    'd': 2,\n    'm': 4,\n    'H': 3,\n    'h': 3,\n    'K': [3, 1],\n    'k': [3, 1],\n    's': 5,\n    'S': 6,\n    'a': [3, ['am', 'pm']],\n    'A': [3, ['AM', 'PM']]\n  };\n\n  replace(s: string, regexp: any, sub?: string) {\n    return (s != null ? '' + s : '').replace(regexp, sub != null ? sub : '');\n  }\n\n  startsWith(base: any, start: any) {\n    return start != null && base.substr(0, start.length) == start;\n  }\n\n  isType(s: any, o: any) {\n    return typeof s == o;\n  }\n\n  isFunction(f: any) {\n    return this.isType(f, 'function');\n  }\n\n  isList(v: any) {\n    return !!v && v.length != null && !this.isString(v) && !this.isNode(v) && !this.isFunction(v);\n  }\n\n  isString(s: any) {\n    return this.isType(s, 'string');\n  }\n\n  isObject(f: any) {\n    return !!f && this.isType(f, 'object');\n  }\n\n  isNode(n: any) {\n    return n && n['nodeType'];\n  }\n\n  isNumber(n: any) {\n    return this.isType(n, 'number');\n  }\n\n  getFindFunc(findFunc: any) {\n    return this.isFunction(findFunc) ? findFunc : (obj: any, index: any) => {\n      if (findFunc === obj) {\n        return index;\n      }\n    };\n  }\n\n  getFindIndex(list: any, index: any, defaultIndex: any) {\n    return index == null ? defaultIndex :\n      index < 0 ? Math.max(list.length + index, 0) : Math.min(list.length, index);\n  }\n\n  find(list: any, findFunc: any, startIndex?: any, endIndex?: any) {\n    let f = this.getFindFunc(findFunc);\n    let e = this.getFindIndex(list, endIndex, list.length);\n    let r: any;\n    for (let i = this.getFindIndex(list, startIndex, 0); i < e; i++) {\n      if ((r = f.call(list, list[i], i)) != null) {\n        return r;\n      }\n    }\n  }\n\n  parseDate(date: string, fmt: string) {\n    let indexMap: any = {}; // contains reGroupPosition -> typeLetter or [typeLetter, value array]\n    let reIndex = 1;\n    let timezoneOffsetMatch: any;\n    let timezoneIndex: any;\n    let match: any;\n\n    let format = this.replace(fmt, /^\\?/);\n    if (format != fmt && !this.replace(date, /^\\s+|\\s+$/g)) {\n      return null;\n    }\n\n    if (match = /^\\[([+-])(\\d\\d)(\\d\\d)\\]\\s*(.*)/.exec(format)) {\n      timezoneOffsetMatch = match;\n      format = match[4];\n    }\n\n    let parser = new RegExp(format.replace(/(.)(\\1*)(?:\\[([^\\]]*)\\])?/g,\n      (wholeMatch, placeholderChar, placeholderDigits, param) => {\n        if (/[dmhkyhs]/i.test(placeholderChar)) {\n          indexMap[reIndex++] = placeholderChar;\n          let plen = placeholderDigits.length + 1;\n          return '(\\\\d' + (plen < 2 ? '+' : ('{1,' + plen + '}')) + ')';\n        } else if (placeholderChar == 'z') {\n          timezoneIndex = reIndex;\n          reIndex += 3;\n          return '([+-])(\\\\d\\\\d)(\\\\d\\\\d)';\n        } else if (/[NnaA]/.test(placeholderChar)) {\n          indexMap[reIndex++] = [placeholderChar, param && param.split(',')];\n          return '([a-zA-Z\\\\u0080-\\\\u1fff]+)';\n        } else if (/w/i.test(placeholderChar)) {\n          return '[a-zA-Z\\\\u0080-\\\\u1fff]+';\n        } else if (/\\s/.test(placeholderChar)) {\n          return '\\\\s+';\n        } else {\n          return this.replace(wholeMatch, /[\\\\\\[\\]\\/{}()*+?.$|^-]/g, '\\\\$&');\n        }\n      }));\n\n    if (!(match = parser.exec(date))) {\n      return undefined;\n    }\n\n    let ctorArgs = [0, 0, 0, 0, 0, 0, 0];\n    for (let i = 1; i < reIndex; i++) {\n      let matchVal = match[i];\n      let indexEntry: any = indexMap[i];\n      if (this.isList(indexEntry)) { // for a, n or N\n        let placeholderChar = indexEntry[0];\n        let mapEntry = this.parseDateMap[placeholderChar];\n        let ctorIndex = mapEntry[0];\n        let valList = indexEntry[1] || mapEntry[1];\n        let listValue = this.find(valList,\n          (v: any, index: any) => {\n            if (this.startsWith(matchVal.toLowerCase(), v.toLowerCase())) {\n              return index;\n            }\n          });\n        if (listValue == null) {\n          return undefined;\n        }\n        if (placeholderChar == 'a' || placeholderChar == 'A') {\n          ctorArgs[ctorIndex] += listValue * 12;\n        } else {\n          ctorArgs[ctorIndex] = listValue;\n        }\n      } else if (indexEntry) { // for numeric values (yHmMs)\n        let value = parseFloat(matchVal);\n        let mapEntry = this.parseDateMap[indexEntry];\n        if (this.isList(mapEntry)) {\n          ctorArgs[mapEntry[0]] += value - mapEntry[1];\n        } else {\n          ctorArgs[mapEntry] += value;\n        }\n      }\n    }\n    let d = new Date(ctorArgs[0], ctorArgs[1], ctorArgs[2], ctorArgs[3], ctorArgs[4],\n      ctorArgs[5], ctorArgs[6]);\n    return d;\n  }\n\n  today(): Date {\n    return new Date();\n  }\n\n  parse(value: any): Date | null {\n    let timestamp = typeof value == 'number' ? value : Date.parse(value);\n    return isNaN(timestamp) ? null : new Date(timestamp);\n  }\n\n  getYear(date: Date): number {\n    return date.getFullYear();\n  }\n\n  getMonth(date: Date): number {\n    return date.getMonth();\n  }\n\n  getDate(date: Date): number {\n    return date.getDate();\n  }\n\n  getHours(date: Date): number {\n    return date.getHours();\n  }\n\n  getMinutes(date: Date): number {\n    return date.getMinutes();\n  }\n\n  getSeconds(date: Date): number {\n    return date.getSeconds();\n  }\n\n  createDate(year: number, month: number, date: number,\n    hours: number, minutes: number, seconds: number): Date {\n    // Check for invalid month and date (except upper bound on date which we have to check after\n    // creating the Date).\n    if (month < 0 || month > 11 || date < 1) {\n      return null;\n    }\n\n    let result = this._createDateWithOverflow(year, month, date, hours, minutes, seconds);\n\n    // Check that the date wasn't above the upper bound for the month, causing the month to\n    // overflow.\n    if (result.getMonth() != month) {\n      return null;\n    }\n\n    return result;\n  }\n\n  clone(date: Date): Date {\n    return this.createDate(this.getYear(date), this.getMonth(date), this.getDate(date),\n      this.getHours(date), this.getMinutes(date), this.getSeconds(date));\n  }\n\n  getNumDaysInMonth(date: Date): number {\n    return this.getDate(this._createDateWithOverflow(\n      this.getYear(date), this.getMonth(date) + 1, 0, 0, 0, 0));\n  }\n\n  addCalendarYears(date: Date, years: number): Date {\n    return this.addCalendarMonths(date, years * 12);\n  }\n\n  addCalendarMonths(date: Date, months: number): Date {\n    let newDate = this._createDateWithOverflow(\n      this.getYear(date), this.getMonth(date) + months, this.getDate(date), this.getHours(date),\n      this.getMinutes(date), this.getSeconds(date));\n\n    // It's possible to wind up in the wrong month if the original month has more days than the new\n    // month. In this case we want to go to the last day of the desired month.\n    // Note: the additional + 12 % 12 ensures we end up with a positive number, since JS % doesn't\n    // guarantee this.\n    if (this.getMonth(newDate) != ((this.getMonth(date) + months) % 12 + 12) % 12) {\n      newDate = this._createDateWithOverflow(this.getYear(newDate), this.getMonth(newDate), 0,\n        this.getHours(newDate), this.getMinutes(newDate), this.getSeconds(newDate));\n    }\n\n    return newDate;\n  }\n\n  addCalendarDays(date: Date, days: number): Date {\n    return this._createDateWithOverflow(\n      this.getYear(date), this.getMonth(date), this.getDate(date) + days,\n      this.getHours(date), this.getMinutes(date), this.getSeconds(date));\n  }\n\n  addCalendarHours(date: Date, hours: number): Date {\n    return this._createDateWithOverflow(\n      this.getYear(date), this.getMonth(date), this.getDate(date),\n      this.getHours(date) + hours, this.getMinutes(date), this.getSeconds(date));\n  }\n\n  addCalendarMinutes(date: Date, minutes: number): Date {\n    return this._createDateWithOverflow(\n      this.getYear(date), this.getMonth(date), this.getDate(date),\n      this.getHours(date), this.getMinutes(date) + minutes, this.getSeconds(date));\n  }\n  getISODateString(date: Date): string {\n    return [\n      date.getUTCFullYear(),\n      this._2digit(date.getUTCMonth() + 1),\n      this._2digit(date.getUTCDate())\n    ].join('-');\n  }\n\n  /** Creates a date but allows the month and date to overflow. */\n  private _createDateWithOverflow(year: number, month: number, date: number,\n    hours: number, minutes: number, seconds: number) {\n    let result = new Date(year, month, date, hours, minutes, seconds);\n\n    // We need to correct for the fact that JS native Date treats years in range [0, 99] as\n    // abbreviations for 19xx.\n    if (year >= 0 && year < 100) {\n      result.setFullYear(this.getYear(result) - 1900);\n    }\n    return result;\n  }\n\n  /**\n   * Pads a number to make it two digits.\n   * @param n The number to pad.\n   * @returns The padded number.\n   */\n  private _2digit(n: number) {\n    return ('00' + n).slice(-2);\n  }\n\n  compareDate(first: Date, second: Date): number {\n    return this.getYear(first) - this.getYear(second) ||\n      this.getMonth(first) - this.getMonth(second) ||\n      this.getDate(first) - this.getDate(second);\n  }\n\n  /**\n   * Gets the first day of the month for the given date's month.\n   * @param {Date} date\n   * @returns {Date}\n   */\n  getFirstDateOfWeek(date: Date, firstDayOfWeek: number) {\n    let day: number = date.getDate() - ((7 + date.getDay() - firstDayOfWeek) % 7);\n    return new Date(date.getFullYear(), date.getMonth(), day, date.getHours(), date.getMinutes());\n  }\n\n  /**\n   * Gets the first day of the month for the given date's month.\n   * @param {Date} date\n   * @returns {Date}\n   */\n  getFirstDateOfMonth(date: Date) {\n    return new Date(date.getFullYear(), date.getMonth(), 1);\n  }\n\n  /**\n   * Gets the number of days in the month for the given date's month.\n   * @param date\n   * @returns {number}\n   */\n  getNumberOfDaysInMonth(date: Date) {\n    return new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n  }\n\n  /**\n   * Get an arbitrary date in the month after the given date's month.\n   * @param date\n   * @returns {Date}\n   */\n  getDateInNextMonth(date: Date) {\n    return new Date(date.getFullYear(), date.getMonth() + 1, 1,\n      date.getHours(), date.getMinutes());\n  }\n\n  /**\n   * Get an arbitrary date in the month before the given date's month.\n   * @param date\n   * @returns {Date}\n   */\n  getDateInPreviousMonth(date: Date) {\n    return new Date(date.getFullYear(), date.getMonth() - 1, 1,\n      date.getHours(), date.getMinutes());\n  }\n\n  /**\n   * Gets whether two dates have the same year.\n   * @param {Date} d1\n   * @param {Date} d2\n   * @returns {boolean}\n   */\n  isSameYear(d1: Date, d2: Date) {\n    return d1 && d2 && d1.getFullYear() === d2.getFullYear();\n  }\n\n  /**\n   * Gets whether two dates have the same month and year.\n   * @param {Date} d1\n   * @param {Date} d2\n   * @returns {boolean}\n   */\n  isSameMonthAndYear(d1: Date, d2: Date) {\n    return d1 && d2 && d1.getFullYear() === d2.getFullYear() && d1.getMonth() === d2.getMonth();\n  }\n\n  /**\n   * Gets whether two dates are the same day (not not necesarily the same time).\n   * @param {Date} d1\n   * @param {Date} d2\n   * @returns {boolean}\n   */\n  isSameDay(d1: Date, d2: Date) {\n    return d1 && d2 && d1.getDate() == d2.getDate() && this.isSameMonthAndYear(d1, d2);\n  }\n\n  /**\n   * Gets whether two dates are the same hours.\n   * @param {Date} d1\n   * @param {Date} d2\n   * @returns {boolean}\n   */\n  isSameHour(d1: Date, d2: Date) {\n    return d1 && d2 && d1.getHours() == d2.getHours() && this.isSameDay(d1, d2);\n  }\n\n  /**\n   * Gets whether two dates are the same minutes.\n   * @param {Date} d1\n   * @param {Date} d2\n   * @returns {boolean}\n   */\n  isSameMinute(d1: Date, d2: Date) {\n    return d1 && d2 && d1.getMinutes() == d2.getMinutes() && this.isSameHour(d1, d2);\n  }\n\n  /**\n   * Gets whether a date is in the month immediately after some date.\n   * @param {Date} startDate The date from which to compare.\n   * @param {Date} endDate The date to check.\n   * @returns {boolean}\n   */\n  isInNextMonth(startDate: Date, endDate: Date) {\n    let nextMonth = this.getDateInNextMonth(startDate);\n    return this.isSameMonthAndYear(nextMonth, endDate);\n  }\n\n  /**\n   * Gets whether a date is in the month immediately before some date.\n   * @param {Date} startDate The date from which to compare.\n   * @param {Date} endDate The date to check.\n   * @returns {boolean}\n   */\n  isInPreviousMonth(startDate: Date, endDate: Date) {\n    let previousMonth = this.getDateInPreviousMonth(startDate);\n    return this.isSameMonthAndYear(endDate, previousMonth);\n  }\n\n  /**\n   * Gets the midpoint between two dates.\n   * @param {Date} d1\n   * @param {Date} d2\n   * @returns {Date}\n   */\n  getDateMidpoint(d1: Date, d2: Date) {\n    return this.createDateAtMidnight((d1.getTime() + d2.getTime()) / 2);\n  }\n\n  /**\n   * Gets the week of the month that a given date occurs in.\n   * @param {Date} date\n   * @returns {number} Index of the week of the month (zero-based).\n   */\n  getWeekOfMonth(date: Date) {\n    let firstDayOfMonth = this.getFirstDateOfMonth(date);\n    return Math.floor((firstDayOfMonth.getDay() + date.getDate() - 1) / 7);\n  }\n\n  /**\n   * Gets a new date incremented by the given number of minutes. Number of minutes can be negative.\n   * @param {Date} date\n   * @param {number} numberOfMinutes\n   * @returns {Date}\n   */\n  incrementMinutes(date: Date, numberOfMinutes: number) {\n    return new Date(date.getFullYear(), date.getMonth(), date.getDate(),\n      date.getHours(), date.getMinutes() + numberOfMinutes);\n  }\n\n  /**\n   * Gets a new date incremented by the given number of hours. Number of hours can be negative.\n   * @param {Date} date\n   * @param {number} numberOfHours\n   * @returns {Date}\n   */\n  incrementHours(date: Date, numberOfHours: number) {\n    return new Date(date.getFullYear(), date.getMonth(), date.getDate(),\n      date.getHours() + numberOfHours, date.getMinutes());\n  }\n\n  /**\n   * Gets a new date incremented by the given number of days. Number of days can be negative.\n   * @param {Date} date\n   * @param {number} numberOfDays\n   * @returns {Date}\n   */\n  incrementDays(date: Date, numberOfDays: number) {\n    return new Date(date.getFullYear(), date.getMonth(), date.getDate() + numberOfDays,\n      date.getHours(), date.getMinutes());\n  }\n\n  /**\n   * Gets a new date incremented by the given number of months. Number of months can be negative.\n   * If the date of the given month does not match the target month, the date will be set to the\n   * last day of the month.\n   * @param {Date} date\n   * @param {number} numberOfMonths\n   * @returns {Date}\n   */\n  incrementMonths(date: Date, numberOfMonths: number) {\n    // If the same date in the target month does not actually exist, the Date object will\n    // automatically advance *another* month by the number of missing days.\n    // For example, if you try to go from Jan. 30 to Feb. 30, you'll end up on March 2.\n    // So, we check if the month overflowed and go to the last day of the target month instead.\n    let dateInTargetMonth = new Date(date.getFullYear(), date.getMonth() + numberOfMonths, 1,\n      date.getHours(), date.getMinutes());\n    let numberOfDaysInMonth = this.getNumberOfDaysInMonth(dateInTargetMonth);\n    if (numberOfDaysInMonth < date.getDate()) {\n      dateInTargetMonth.setDate(numberOfDaysInMonth);\n    } else {\n      dateInTargetMonth.setDate(date.getDate());\n    }\n\n    return dateInTargetMonth;\n  }\n\n  /**\n   * Get the integer distance between two months. This *only* considers the month and year\n   * portion of the Date instances.\n   *\n   * @param {Date} start\n   * @param {Date} end\n   * @returns {number} Number of months between `start` and `end`. If `end` is before `start`\n   *     chronologically, this number will be negative.\n   */\n  getMonthDistance(start: Date, end: Date) {\n    return (12 * (end.getFullYear() - start.getFullYear())) + (end.getMonth() - start.getMonth());\n  }\n\n  /**\n   * Gets the last day of the month for the given date.\n   * @param {Date} date\n   * @returns {Date}\n   */\n  getLastDateOfMonth(date: Date) {\n    return new Date(date.getFullYear(), date.getMonth(), this.getNumberOfDaysInMonth(date),\n      date.getHours(), date.getMinutes());\n  }\n\n  /**\n   * Checks whether a date is valid.\n   * @param {Date} date\n   * @return {boolean} Whether the date is a valid Date.\n   */\n  isValidDate(date: Date) {\n    return date != null && date.getTime && !isNaN(date.getTime());\n  }\n\n  /**\n   * Sets a date's time to midnight.\n   * @param {Date} date\n   */\n  setDateTimeToMidnight(date: Date) {\n    if (this.isValidDate(date)) {\n      date.setHours(0, 0, 0, 0);\n    }\n  }\n\n  /**\n   * Creates a date with the time set to midnight.\n   * Drop-in replacement for two forms of the Date constructor:\n   * 1. No argument for Date representing now.\n   * 2. Single-argument value representing number of seconds since Unix Epoch\n   * or a Date object.\n   * @param {number|Date=} value\n   * @return {Date} New date with time set to midnight.\n   */\n  createDateAtMidnight(value: any) {\n    let date: Date;\n    if (!value) {\n      date = new Date();\n    } else {\n      date = new Date(value);\n    }\n    this.setDateTimeToMidnight(date);\n    return date;\n  }\n\n  /**\n   * Checks if a date is within a min and max range, ignoring the time component.\n   * If minDate or maxDate are not dates, they are ignored.\n   * @param {Date} date\n   * @param {Date} minDate\n   * @param {Date} maxDate\n   */\n  isDateWithinRange(date: Date, minDate: Date, maxDate: Date) {\n    let dateAtMidnight = this.createDateAtMidnight(date);\n    let minDateAtMidnight = this.isValidDate(minDate) ? this.createDateAtMidnight(minDate) : null;\n    let maxDateAtMidnight = this.isValidDate(maxDate) ? this.createDateAtMidnight(maxDate) : null;\n    return (!minDateAtMidnight || minDateAtMidnight <= dateAtMidnight) &&\n      (!maxDateAtMidnight || maxDateAtMidnight >= dateAtMidnight);\n  }\n\n  /**\n   * Checks if a date is within a min and max range.\n   * If minDate or maxDate are not dates, they are ignored.\n   * @param {Date} date\n   * @param {Date} minDate\n   * @param {Date} maxDate\n   */\n  isFullDateWithinRange(date: Date, minDate: Date, maxDate: Date) {\n    minDate = this.isValidDate(minDate) ? minDate : null;\n    maxDate = this.isValidDate(maxDate) ? maxDate : null;\n    return (!minDate || minDate <= date) &&\n      (!maxDate || maxDate >= date);\n  }\n\n  /**\n   * Gets a new date incremented by the given number of years. Number of years can be negative.\n   * See `incrementMonths` for notes on overflow for specific dates.\n   * @param {Date} date\n   * @param {number} numberOfYears\n   * @returns {Date}\n   */\n  incrementYears(date: Date, numberOfYears: number) {\n    return this.incrementMonths(date, numberOfYears * 12);\n  }\n\n  /**\n   * Get the integer distance between two years. This *only* considers the year portion of the\n   * Date instances.\n   *\n   * @param {Date} start\n   * @param {Date} end\n   * @returns {number} Number of months between `start` and `end`. If `end` is before `start`\n   *     chronologically, this number will be negative.\n   */\n  getYearDistance(start: Date, end: Date) {\n    return end.getFullYear() - start.getFullYear();\n  }\n\n  /**\n   * Clamps a date between a minimum and a maximum date.\n   * @param {Date} date Date to be clamped\n   * @param {Date=} minDate Minimum date\n   * @param {Date=} maxDate Maximum date\n   * @return {Date}\n   */\n  clampDate(date: Date, minDate: Date, maxDate: Date) {\n    let boundDate = date;\n    if (minDate && date < minDate) {\n      boundDate = new Date(minDate.getTime());\n    }\n    if (maxDate && date > maxDate) {\n      boundDate = new Date(maxDate.getTime());\n    }\n    return boundDate;\n  }\n\n  /**\n   * Extracts and parses the timestamp from a DOM node.\n   * @param  {HTMLElement} node Node from which the timestamp will be extracted.\n   * @return {number} Time since epoch.\n   */\n  getTimestampFromNode(node: any) {\n    if (node && node.hasAttribute('data-timestamp')) {\n      return Number(node.getAttribute('data-timestamp'));\n    }\n  }\n\n  /**\n   * Checks if a month is within a min and max range, ignoring the date and time components.\n   * If minDate or maxDate are not dates, they are ignored.\n   * @param {Date} date\n   * @param {Date} minDate\n   * @param {Date} maxDate\n   */\n  isMonthWithinRange(date: Date, minDate: Date, maxDate: Date) {\n    let month = date.getMonth();\n    let year = date.getFullYear();\n\n    return (!minDate || minDate.getFullYear() < year || minDate.getMonth() <= month) &&\n      (!maxDate || maxDate.getFullYear() > year || maxDate.getMonth() >= month);\n  }\n\n  /**\n   * Compares two dates.\n   * @param first The first date to compare.\n   * @param second The second date to compare.\n   * @returns 0 if the dates are equal, a number less than 0 if the first date is earlier,\n   *     a number greater than 0 if the first date is later.\n   */\n  compareDateAndTime(first: Date, second: Date): number {\n    return this.getYear(first) - this.getYear(second) ||\n      this.getMonth(first) - this.getMonth(second) ||\n      this.getDate(first) - this.getDate(second) ||\n      this.getHours(first) - this.getDate(second) ||\n      this.getMinutes(first) - this.getDate(second) ||\n      this.getSeconds(first) - this.getDate(second);\n  }\n\n  /**\n   * Checks if two dates are equal.\n   * @param first The first date to check.\n   * @param second The second date to check.\n   * @returns {boolean} Whether the two dates are equal.\n   *     Null dates are considered equal to other null dates.\n   */\n  sameDate(first: Date | null, second: Date | null): boolean {\n    return first && second ? !this.compareDate(first, second) : first == second;\n  }\n\n  /**\n   * Checks if two dates are equal.\n   * @param first The first date to check.\n   * @param second The second date to check.\n   * @returns {boolean} Whether the two dates are equal.\n   *     Null dates are considered equal to other null dates.\n   */\n  sameDateAndTime(first: Date | null, second: Date | null): boolean {\n    return first && second ? !this.compareDateAndTime(first, second) : first == second;\n  }\n\n}\n"]}