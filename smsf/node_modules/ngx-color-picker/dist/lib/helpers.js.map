{"version":3,"sources":["../../src/lib/helpers.ts"],"names":[],"mappings":"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","file":"helpers.js","sourceRoot":"","sourcesContent":["import { Directive, Input, Output, EventEmitter, ElementRef } from '@angular/core';\n\n\nexport class TextDirective {\n     newValue = new EventEmitter<any>();\n     text: any;\n     rg: number;\n\n    changeInput(value: string) {\n        if (this.rg === undefined) {\n            this.newValue.emit(value);\n        } else {\n            let numeric = parseFloat(value)\n            if (!isNaN(numeric) && numeric >= 0 && numeric <= this.rg) {\n                this.newValue.emit({ v: numeric, rg: this.rg });\n            }\n        }\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n    selector: '[text]',\n    host: {\n        '(input)': 'changeInput($event.target.value)'\n    }\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'newValue': [{ type: Output, args: ['newValue', ] },],\n'text': [{ type: Input, args: ['text', ] },],\n'rg': [{ type: Input, args: ['rg', ] },],\n};\n}\n\n\nexport class SliderDirective {\n     newValue = new EventEmitter<any>();\n     dragStart = new EventEmitter();\n     dragEnd = new EventEmitter();\n     slider: string;\n     rgX: number;\n     rgY: number;\n    private listenerMove: any;\n    private listenerStop: any;\n\n    constructor(private el: ElementRef) {\n        this.listenerMove = (event: any) => { this.move(event) };\n        this.listenerStop = () => { this.stop() };\n    }\n\n    setCursor(event: any) {\n        let height = this.el.nativeElement.offsetHeight;\n        let width = this.el.nativeElement.offsetWidth;\n        let x = Math.max(0, Math.min(this.getX(event), width));\n        let y = Math.max(0, Math.min(this.getY(event), height));\n\n        if (this.rgX !== undefined && this.rgY !== undefined) {\n            this.newValue.emit({ s: x / width, v: (1 - y / height), rgX: this.rgX, rgY: this.rgY });\n        } else if (this.rgX === undefined && this.rgY !== undefined) {//ready to use vertical sliders\n            this.newValue.emit({ v: y / height, rg: this.rgY });\n        } else {\n            this.newValue.emit({ v: x / width, rg: this.rgX });\n        }\n    }\n\n    move(event: any) {\n        event.preventDefault();\n        this.setCursor(event);\n    }\n\n    start(event: any) {\n        this.setCursor(event);\n        document.addEventListener('mousemove', this.listenerMove);\n        document.addEventListener('touchmove', this.listenerMove);\n        document.addEventListener('mouseup', this.listenerStop);\n        document.addEventListener('touchend', this.listenerStop);\n        this.dragStart.emit();\n    }\n\n    stop() {\n        document.removeEventListener('mousemove', this.listenerMove);\n        document.removeEventListener('touchmove', this.listenerMove);\n        document.removeEventListener('mouseup', this.listenerStop);\n        document.removeEventListener('touchend', this.listenerStop);\n        this.dragEnd.emit();\n    }\n\n    getX(event: any): number {\n        return (event.pageX !== undefined ? event.pageX : event.touches[0].pageX) - this.el.nativeElement.getBoundingClientRect().left - window.pageXOffset;\n    }\n    getY(event: any): number {\n        return (event.pageY !== undefined ? event.pageY : event.touches[0].pageY) - this.el.nativeElement.getBoundingClientRect().top - window.pageYOffset;\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n    selector: '[slider]',\n    host: {\n        '(mousedown)': 'start($event)',\n        '(touchstart)': 'start($event)'\n    }\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'newValue': [{ type: Output, args: ['newValue', ] },],\n'dragStart': [{ type: Output, args: ['dragStart', ] },],\n'dragEnd': [{ type: Output, args: ['dragEnd', ] },],\n'slider': [{ type: Input, args: ['slider', ] },],\n'rgX': [{ type: Input, args: ['rgX', ] },],\n'rgY': [{ type: Input, args: ['rgY', ] },],\n};\n}\n\nexport class SliderPosition {\n  constructor(public h: number, public s: number, public v: number, public a: number) { }\n}\n\nexport class SliderDimension {\n  constructor(public h: number, public s: number, public v: number, public a: number) { }\n}\n\nconst ua = navigator.userAgent.toLowerCase();\n\nexport function detectIE() {\n  const msie = ua.indexOf('msie ');\n  if (msie > 0) {\n    // IE 10 or older => return version number\n    return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\n  }\n\n  // other browser\n  return false;\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}