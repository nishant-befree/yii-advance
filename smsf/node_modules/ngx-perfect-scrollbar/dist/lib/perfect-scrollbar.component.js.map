{"version":3,"sources":["../../src/lib/perfect-scrollbar.component.ts"],"names":[],"mappings":"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","file":"perfect-scrollbar.component.js","sourceRoot":"","sourcesContent":["import 'rxjs/add/operator/throttleTime';\nimport 'rxjs/add/operator/distinctUntilChanged';\n\nimport { Subject } from 'rxjs/Subject';\nimport { Subscription } from 'rxjs/Subscription';\n\nimport { Component, OnInit, OnDestroy, DoCheck } from '@angular/core';\nimport { Input, HostBinding, HostListener, ViewChild } from '@angular/core';\nimport { ElementRef, ChangeDetectorRef, ViewEncapsulation } from '@angular/core';\n\nimport { PerfectScrollbarDirective } from './perfect-scrollbar.directive';\nimport { PerfectScrollbarConfigInterface } from './perfect-scrollbar.interfaces';\n\n\nexport class PerfectScrollbarComponent implements OnInit, OnDestroy, DoCheck {\n  public states: any = {};\n  public notify: boolean = null;\n\n  public userInteraction: boolean = false;\n  public allowPropagation: boolean = false;\n\n  private cancelEvent: Event = null;\n\n  private timeoutState: number = null;\n  private timeoutScroll: number = null;\n\n  private usePropagationX: boolean = false;\n  private usePropagationY: boolean = false;\n\n  private scrollSub: Subscription = null;\n  private scrollUpdate: Subject<string> = new Subject();\n\n  private statesSub: Subscription = null;\n  private statesUpdate: Subject<string> = new Subject();\n\n  private activeSub: Subscription = null;\n  private activeUpdate: Subject<boolean> = new Subject();\n\n  \n   hidden: boolean = false;\n\n   disabled: boolean = false;\n\n   usePSClass: boolean = true;\n\n  \n   autoPropagation: boolean = false;\n\n  \n   scrollIndicators: boolean = false;\n\n   runInsideAngular: boolean = false;\n\n   config: PerfectScrollbarConfigInterface;\n\n   directiveRef: PerfectScrollbarDirective;\n\n   onTestOne(event: any) {\n    // Stop the generated event from reaching window for PS to work correctly\n    if (event['psGenerated']) {\n      event.stopPropagation();\n    }\n  }\n\n  constructor(private elementRef: ElementRef, private cdRef: ChangeDetectorRef) {}\n\n  ngOnInit() {\n    this.activeSub = this.activeUpdate\n      .distinctUntilChanged()\n      .subscribe((active: boolean) => {\n        this.allowPropagation = active;\n      });\n\n    this.scrollSub = this.scrollUpdate\n      .throttleTime(100)\n      .subscribe((state: string) => {\n        window.clearTimeout(this.timeoutScroll);\n\n        this.elementRef.nativeElement.classList.add('ps-scrolling');\n\n        this.timeoutScroll = window.setTimeout(() => {\n          this.elementRef.nativeElement.classList.remove('ps-scrolling');\n        }, 500);\n      });\n\n    this.statesSub = this.statesUpdate\n      .distinctUntilChanged()\n      .subscribe((state: string) => {\n        window.clearTimeout(this.timeoutState);\n\n        if (state !== 'x' && state !== 'y') {\n          this.notify = true;\n          this.states[state] = true;\n\n          this.timeoutState = window.setTimeout(() => {\n            this.notify = false;\n\n            if (this.autoPropagation && this.userInteraction &&\n               ((!this.usePropagationX && (this.states.left || this.states.right)) ||\n               (!this.usePropagationY && (this.states.top || this.states.bottom))))\n            {\n              this.allowPropagation = true;\n            }\n\n            this.cdRef.markForCheck();\n          }, 300);\n        }Â else {\n          this.notify = false;\n\n          if (state === 'x') {\n            this.states.left = false;\n            this.states.right = false;\n          } else if (state === 'y') {\n            this.states.top = false;\n            this.states.bottom = false;\n          }\n\n          this.userInteraction = true;\n\n          if (this.autoPropagation &&\n            (!this.usePropagationX || !this.usePropagationY))\n          {\n            this.allowPropagation = false;\n\n            if (this.cancelEvent) {\n              this.elementRef.nativeElement.dispatchEvent(this.cancelEvent);\n\n              this.cancelEvent = null;\n            }\n          } else if (this.scrollIndicators) {\n            this.notify = true;\n\n            this.timeoutState = window.setTimeout(() => {\n              this.notify = false;\n\n              this.cdRef.markForCheck();\n            }, 300);\n          }\n        }\n\n        this.cdRef.markForCheck();\n      });\n  }\n\n  ngOnDestroy() {\n    if (this.activeSub) {\n      this.activeSub.unsubscribe();\n    }\n\n    if (this.scrollSub) {\n      this.scrollSub.unsubscribe();\n    }\n\n    if (this.statesSub) {\n      this.statesSub.unsubscribe();\n    }\n\n    window.clearTimeout(this.timeoutState);\n    window.clearTimeout(this.timeoutScroll);\n  }\n\n  ngDoCheck() {\n    if (!this.disabled && this.autoPropagation && this.directiveRef) {\n      const element = this.directiveRef.elementRef.nativeElement;\n\n      this.usePropagationX = !element.classList.contains('ps--active-x');\n      this.usePropagationY = !element.classList.contains('ps--active-y');\n\n      this.activeUpdate.next(this.usePropagationX && this.usePropagationY);\n    }\n  }\n\n  getConfig(): PerfectScrollbarConfigInterface {\n    const config = this.config || {};\n\n    if (this.autoPropagation) {\n      config.swipePropagation = true;\n      config.wheelPropagation = true;\n    }\n\n    return config;\n  }\n\n  update() {\n    console.warn('Deprecated function, update needs to be called through directiveRef!');\n\n    this.directiveRef.update();\n  }\n\n  scrollTo(x: number, y?: number) {\n    console.warn('Deprecated function, scrollTo needs to be called through directiveRef!');\n\n    this.directiveRef.scrollTo(x, y);\n  }\n\n  scrollToTop(offset: number = 0) {\n    console.warn('Deprecated function, scrollToTop needs to be called through directiveRef!');\n\n    this.directiveRef.scrollToTop(offset);\n  }\n\n  scrollToLeft(offset: number = 0) {\n    console.warn('Deprecated function, scrollToLeft needs to be called through directiveRef!');\n\n    this.directiveRef.scrollToLeft(offset);\n  }\n\n  scrollToRight(offset: number = 0) {\n    console.warn('Deprecated function, scrollToRight needs to be called through directiveRef!');\n\n    this.directiveRef.scrollToRight(offset);\n  }\n\n  scrollToBottom(offset: number = 0) {\n    console.warn('Deprecated function, scrollToBottom needs to be called through directiveRef!');\n\n    this.directiveRef.scrollToBottom(offset);\n  }\n\n  onTouchEnd(event: Event = null) {\n    if (!this.disabled && this.autoPropagation) {\n      if (!this.usePropagationX || !this.usePropagationY) {\n        this.cancelEvent = null;\n\n        this.allowPropagation = false;\n      }\n    }\n  }\n\n  onTouchMove(event: Event = null) {\n    if (!this.disabled && this.autoPropagation) {\n      if (!this.allowPropagation) {\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    }\n  }\n\n  onTouchStart(event: Event = null) {\n    if (!this.disabled && this.autoPropagation) {\n      this.userInteraction = true;\n\n      if (this.allowPropagation) {\n        // PS stops the touchmove event so lets re-emit it here\n        if (this.elementRef.nativeElement) {\n          const newEvent = new MouseEvent('touchstart', event);\n          this.cancelEvent = new MouseEvent('touchmove', event);\n\n          newEvent['psGenerated'] = this.cancelEvent['psGenerated'] = true;\n          newEvent['touches'] = this.cancelEvent['touches'] = event['touches'];\n          newEvent['targetTouches'] = this.cancelEvent['targetTouches'] = event['targetTouches'];\n\n          this.elementRef.nativeElement.dispatchEvent(newEvent);\n        }\n      }\n\n      this.cdRef.detectChanges();\n    }\n  }\n\n  onWheelEvent(event: Event = null) {\n    if (!this.disabled && this.autoPropagation) {\n      this.userInteraction = true;\n\n      if (!this.allowPropagation) {\n        event.preventDefault();\n        event.stopPropagation();\n      } else if (!this.usePropagationX || !this.usePropagationY) {\n        this.allowPropagation = false;\n      }\n\n      this.cdRef.detectChanges();\n    }\n  }\n\n  onScrollEvent(event: Event = null, state: string) {\n    if (event.currentTarget === event.target) {\n      this.scrollUpdate.next(state);\n\n      if (!this.disabled && (this.autoPropagation || this.scrollIndicators)) {\n        this.statesUpdate.next(state);\n      }\n\n      this.cdRef.detectChanges();\n    }\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'perfect-scrollbar',\n  templateUrl: './perfect-scrollbar.component.html',\n  styleUrls: ['./perfect-scrollbar.component.css'],\n  encapsulation: ViewEncapsulation.None\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: ChangeDetectorRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'hidden': [{ type: HostBinding, args: ['hidden', ] },{ type: Input },],\n'disabled': [{ type: Input },],\n'usePSClass': [{ type: Input },],\n'autoPropagation': [{ type: HostBinding, args: ['class.ps-show-limits', ] },{ type: Input },],\n'scrollIndicators': [{ type: HostBinding, args: ['class.ps-show-active', ] },{ type: Input },],\n'runInsideAngular': [{ type: Input },],\n'config': [{ type: Input },],\n'directiveRef': [{ type: ViewChild, args: [PerfectScrollbarDirective, ] },],\n'onTestOne': [{ type: HostListener, args: ['document:touchstart', ['$event'], ] },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}